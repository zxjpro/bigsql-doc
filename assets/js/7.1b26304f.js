(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{180:function(t,_,o){"use strict";o.r(_);var v=o(0),e=Object(v.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,_=t.$createElement,o=t._self._c||_;return o("div",{staticClass:"content"},[o("h1",{attrs:{id:"异常处理"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#异常处理","aria-hidden":"true"}},[t._v("#")]),t._v(" 异常处理")]),t._v(" "),o("h2",{attrs:{id:"抛出异常"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#抛出异常","aria-hidden":"true"}},[t._v("#")]),t._v(" 抛出异常")]),t._v(" "),o("p",[t._v("在bigsql处理mysql协议的过程中（不包含启动过程），我们只能抛出"),o("code",[t._v("com.xiaojiezhu.bigsql.common.exception.BigSqlException")]),t._v("及其子类的异常，不允许抛出其它异常。")]),t._v(" "),o("p",[o("code",[t._v("com.xiaojiezhu.bigsql.common.exception.BigSqlException")]),t._v("中的异常中带有一个错误码")]),t._v(" "),o("h2",{attrs:{id:"错误码"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#错误码","aria-hidden":"true"}},[t._v("#")]),t._v(" 错误码")]),t._v(" "),o("p",[t._v("对于特定情况的异常，我们需要给出特定的错误码，以方便其它位置处理它。")]),t._v(" "),o("h3",{attrs:{id:"_1-开头的错误码，是配置级别的错误"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_1-开头的错误码，是配置级别的错误","aria-hidden":"true"}},[t._v("#")]),t._v(" 1 开头的错误码，是配置级别的错误")]),t._v(" "),o("table",[o("thead",[o("tr",[o("th",[t._v("错误码")]),t._v(" "),o("th",[t._v("说明")]),t._v(" "),o("th",[t._v("异常类")])])]),t._v(" "),o("tbody",[o("tr",[o("td",[t._v("100")]),t._v(" "),o("td",[t._v("配置文件类错误")]),t._v(" "),o("td")]),t._v(" "),o("tr",[o("td",[t._v("101")]),t._v(" "),o("td",[t._v("从配置文件载数据源失败")]),t._v(" "),o("td",[o("code",[t._v("com.xiaojiezhu.bigsql.common.exception.DataSourceLoadException")])])]),t._v(" "),o("tr",[o("td",[t._v("102")]),t._v(" "),o("td",[t._v("加载逻辑表规则失败")]),t._v(" "),o("td",[o("code",[t._v("com.xiaojiezhu.bigsql.common.exception.RuleParserException")])])]),t._v(" "),o("tr",[o("td",[t._v("103")]),t._v(" "),o("td",[t._v("XML配置解析错误")]),t._v(" "),o("td",[o("code",[t._v("com.xiaojiezhu.bigsql.common.exception.XmlParseException")])])]),t._v(" "),o("tr",[o("td",[t._v("104")]),t._v(" "),o("td",[t._v("数据源不存在")]),t._v(" "),o("td",[o("code",[t._v("com.xiaojiezhu.bigsql.common.exception.DataSourceNotExistsException")])])]),t._v(" "),o("tr",[o("td",[t._v("105")]),t._v(" "),o("td",[t._v("找不到配置文件")]),t._v(" "),o("td",[o("code",[t._v("com.xiaojiezhu.bigsql.common.exception.ConfigNotExistException")])])]),t._v(" "),o("tr",[o("td",[t._v("106")]),t._v(" "),o("td",[t._v("找不到数据库的配置")]),t._v(" "),o("td",[o("code",[t._v("com.xiaojiezhu.bigsql.common.exception.DatabaseNotFoundException")])])])])]),t._v(" "),o("h3",{attrs:{id:"_2-开头的错误码，是sql级别的错误"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_2-开头的错误码，是sql级别的错误","aria-hidden":"true"}},[t._v("#")]),t._v(" 2 开头的错误码，是SQL级别的错误")]),t._v(" "),o("table",[o("thead",[o("tr",[o("th",[t._v("错误码")]),t._v(" "),o("th",[t._v("说明")]),t._v(" "),o("th",[t._v("异常类")])])]),t._v(" "),o("tbody",[o("tr",[o("td",[t._v("200")]),t._v(" "),o("td",[t._v("sql处理类错误")]),t._v(" "),o("td")]),t._v(" "),o("tr",[o("td",[t._v("201")]),t._v(" "),o("td",[t._v("SQL中指定了分布式主键的列，指定的值为NULL")]),t._v(" "),o("td",[o("code",[t._v("com.xiaojiezhu.bigsql.common.exception.IncrementColumnNullException")])])]),t._v(" "),o("tr",[o("td",[t._v("202")]),t._v(" "),o("td",[t._v("SQL语句中出现全表扫描")]),t._v(" "),o("td",[o("code",[t._v("com.xiaojiezhu.bigsql.common.exception.FullScanTableException")])])]),t._v(" "),o("tr",[o("td",[t._v("203")]),t._v(" "),o("td",[t._v("SQL语句中不存在分片键")]),t._v(" "),o("td",[o("code",[t._v("com.xiaojiezhu.bigsql.common.exception.ShardingColumnNotExistException")])])]),t._v(" "),o("tr",[o("td",[t._v("204")]),t._v(" "),o("td",[t._v("SQL解析错误")]),t._v(" "),o("td",[o("code",[t._v("com.xiaojiezhu.bigsql.common.exception.SqlParserException")])])])])]),t._v(" "),o("h3",{attrs:{id:"_3-开头的错误码，是系统级别的错误码"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_3-开头的错误码，是系统级别的错误码","aria-hidden":"true"}},[t._v("#")]),t._v(" 3 开头的错误码，是系统级别的错误码")]),t._v(" "),o("table",[o("thead",[o("tr",[o("th",[t._v("错误码")]),t._v(" "),o("th",[t._v("说明")]),t._v(" "),o("th",[t._v("异常类")])])]),t._v(" "),o("tbody",[o("tr",[o("td",[t._v("300")]),t._v(" "),o("td",[t._v("系统级别错误")]),t._v(" "),o("td")]),t._v(" "),o("tr",[o("td",[t._v("301")]),t._v(" "),o("td",[t._v("协议包错误")]),t._v(" "),o("td",[o("code",[t._v("com.xiaojiezhu.bigsql.common.exception.ProtocolErrorException")])])]),t._v(" "),o("tr",[o("td",[t._v("302")]),t._v(" "),o("td",[t._v("执行SQL语句出现异常")]),t._v(" "),o("td",[o("code",[t._v("com.xiaojiezhu.bigsql.common.exception.InvokeStatementException")])])]),t._v(" "),o("tr",[o("td",[t._v("303")]),t._v(" "),o("td",[t._v("执行了不支持的操作")]),t._v(" "),o("td",[o("code",[t._v("com.xiaojiezhu.bigsql.common.exception.NotSupportException")])])]),t._v(" "),o("tr",[o("td",[t._v("303")]),t._v(" "),o("td",[t._v("执行了不支持的操作")]),t._v(" "),o("td",[o("code",[t._v("com.xiaojiezhu.bigsql.common.exception.NotSupportException")])])]),t._v(" "),o("tr",[o("td",[t._v("303")]),t._v(" "),o("td",[t._v("合并resultSet错误")]),t._v(" "),o("td",[o("code",[t._v("com.xiaojiezhu.bigsql.common.exception.MergeException")])])]),t._v(" "),o("tr",[o("td",[t._v("304")]),t._v(" "),o("td",[t._v("SQL不支持错误，与SQL解析错误的同不的地方是，SQL解析错误是语法错误")]),t._v(" "),o("td",[o("code",[t._v("com.xiaojiezhu.bigsql.common.exception.SqlNotSupportException")])])]),t._v(" "),o("tr",[o("td",[t._v("305")]),t._v(" "),o("td",[t._v("操作事务异常")]),t._v(" "),o("td",[o("code",[t._v("com.xiaojiezhu.bigsql.common.exception.TransactionException")])])])])]),t._v(" "),o("h3",{attrs:{id:"_4-开头的错误码，是外部应用的错误吗，比如连不上物理数据库"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_4-开头的错误码，是外部应用的错误吗，比如连不上物理数据库","aria-hidden":"true"}},[t._v("#")]),t._v(" 4 开头的错误码，是外部应用的错误吗，比如连不上物理数据库")]),t._v(" "),o("table",[o("thead",[o("tr",[o("th",[t._v("错误码")]),t._v(" "),o("th",[t._v("说明")]),t._v(" "),o("th",[t._v("异常类")])])]),t._v(" "),o("tbody",[o("tr",[o("td",[t._v("400")]),t._v(" "),o("td",[t._v("外部系统错误")]),t._v(" "),o("td")])])])])}],!1,null,null,null);e.options.__file="exception.md";_.default=e.exports}}]);