(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{149:function(t,o,e){"use strict";e.r(o);var i=e(0),c=Object(i.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"异常处理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#异常处理","aria-hidden":"true"}},[t._v("#")]),t._v(" 异常处理")]),e("h2",{attrs:{id:"抛出异常"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#抛出异常","aria-hidden":"true"}},[t._v("#")]),t._v(" 抛出异常")]),e("p",[t._v("在bigsql处理mysql协议的过程中（不包含启动过程），我们只能抛出"),e("code",[t._v("com.xiaojiezhu.bigsql.common.exception.BigSqlException")]),t._v("及其子类的异常，不允许抛出其它异常。")]),e("p",[e("code",[t._v("com.xiaojiezhu.bigsql.common.exception.BigSqlException")]),t._v("中的异常中带有一个错误码")]),e("h2",{attrs:{id:"错误码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#错误码","aria-hidden":"true"}},[t._v("#")]),t._v(" 错误码")]),e("p",[t._v("对于特定情况的异常，我们需要给出特定的错误码，以方便其它位置处理它。")]),e("h3",{attrs:{id:"_1-开头的错误码，是配置级别的错误"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-开头的错误码，是配置级别的错误","aria-hidden":"true"}},[t._v("#")]),t._v(" 1 开头的错误码，是配置级别的错误")]),e("table",[e("thead",[e("tr",[e("th",[t._v("错误码")]),e("th",[t._v("说明")]),e("th",[t._v("异常类")])])]),e("tbody",[e("tr",[e("td",[t._v("100")]),e("td",[t._v("配置文件类错误")]),e("td")]),e("tr",[e("td",[t._v("101")]),e("td",[t._v("从配置文件载数据源失败")]),e("td",[e("code",[t._v("com.xiaojiezhu.bigsql.common.exception.DataSourceLoadException")])])]),e("tr",[e("td",[t._v("102")]),e("td",[t._v("加载逻辑表规则失败")]),e("td",[e("code",[t._v("com.xiaojiezhu.bigsql.common.exception.RuleParserException")])])]),e("tr",[e("td",[t._v("103")]),e("td",[t._v("XML配置解析错误")]),e("td",[e("code",[t._v("com.xiaojiezhu.bigsql.common.exception.XmlParseException")])])]),e("tr",[e("td",[t._v("104")]),e("td",[t._v("数据源不存在")]),e("td",[e("code",[t._v("com.xiaojiezhu.bigsql.common.exception.DataSourceNotExistsException")])])]),e("tr",[e("td",[t._v("105")]),e("td",[t._v("找不到配置文件")]),e("td",[e("code",[t._v("com.xiaojiezhu.bigsql.common.exception.ConfigNotExistException")])])]),e("tr",[e("td",[t._v("106")]),e("td",[t._v("找不到数据库的配置")]),e("td",[e("code",[t._v("com.xiaojiezhu.bigsql.common.exception.DatabaseNotFoundException")])])])])]),e("h3",{attrs:{id:"_2-开头的错误码，是sql级别的错误"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-开头的错误码，是sql级别的错误","aria-hidden":"true"}},[t._v("#")]),t._v(" 2 开头的错误码，是SQL级别的错误")]),e("table",[e("thead",[e("tr",[e("th",[t._v("错误码")]),e("th",[t._v("说明")]),e("th",[t._v("异常类")])])]),e("tbody",[e("tr",[e("td",[t._v("200")]),e("td",[t._v("sql处理类错误")]),e("td")]),e("tr",[e("td",[t._v("201")]),e("td",[t._v("SQL中指定了分布式主键的列，指定的值为NULL")]),e("td",[e("code",[t._v("com.xiaojiezhu.bigsql.common.exception.IncrementColumnNullException")])])]),e("tr",[e("td",[t._v("202")]),e("td",[t._v("SQL语句中出现全表扫描")]),e("td",[e("code",[t._v("com.xiaojiezhu.bigsql.common.exception.FullScanTableException")])])]),e("tr",[e("td",[t._v("203")]),e("td",[t._v("SQL语句中不存在分片键")]),e("td",[e("code",[t._v("com.xiaojiezhu.bigsql.common.exception.ShardingColumnNotExistException")])])]),e("tr",[e("td",[t._v("204")]),e("td",[t._v("SQL解析错误")]),e("td",[e("code",[t._v("com.xiaojiezhu.bigsql.common.exception.SqlParserException")])])])])]),e("h3",{attrs:{id:"_3-开头的错误码，是系统级别的错误码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-开头的错误码，是系统级别的错误码","aria-hidden":"true"}},[t._v("#")]),t._v(" 3 开头的错误码，是系统级别的错误码")]),e("table",[e("thead",[e("tr",[e("th",[t._v("错误码")]),e("th",[t._v("说明")]),e("th",[t._v("异常类")])])]),e("tbody",[e("tr",[e("td",[t._v("300")]),e("td",[t._v("系统级别错误")]),e("td")]),e("tr",[e("td",[t._v("301")]),e("td",[t._v("协议包错误")]),e("td",[e("code",[t._v("com.xiaojiezhu.bigsql.common.exception.ProtocolErrorException")])])]),e("tr",[e("td",[t._v("302")]),e("td",[t._v("执行SQL语句出现异常")]),e("td",[e("code",[t._v("com.xiaojiezhu.bigsql.common.exception.InvokeStatementException")])])]),e("tr",[e("td",[t._v("303")]),e("td",[t._v("执行了不支持的操作")]),e("td",[e("code",[t._v("com.xiaojiezhu.bigsql.common.exception.NotSupportException")])])]),e("tr",[e("td",[t._v("303")]),e("td",[t._v("执行了不支持的操作")]),e("td",[e("code",[t._v("com.xiaojiezhu.bigsql.common.exception.NotSupportException")])])]),e("tr",[e("td",[t._v("303")]),e("td",[t._v("合并resultSet错误")]),e("td",[e("code",[t._v("com.xiaojiezhu.bigsql.common.exception.MergeException")])])]),e("tr",[e("td",[t._v("304")]),e("td",[t._v("SQL不支持错误，与SQL解析错误的同不的地方是，SQL解析错误是语法错误")]),e("td",[e("code",[t._v("com.xiaojiezhu.bigsql.common.exception.SqlNotSupportException")])])]),e("tr",[e("td",[t._v("305")]),e("td",[t._v("操作事务异常")]),e("td",[e("code",[t._v("com.xiaojiezhu.bigsql.common.exception.TransactionException")])])])])]),e("h3",{attrs:{id:"_4-开头的错误码，是外部应用的错误吗，比如连不上物理数据库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-开头的错误码，是外部应用的错误吗，比如连不上物理数据库","aria-hidden":"true"}},[t._v("#")]),t._v(" 4 开头的错误码，是外部应用的错误吗，比如连不上物理数据库")]),e("table",[e("thead",[e("tr",[e("th",[t._v("错误码")]),e("th",[t._v("说明")]),e("th",[t._v("异常类")])])]),e("tbody",[e("tr",[e("td",[t._v("400")]),e("td",[t._v("外部系统错误")]),e("td")])])])])}],!1,null,null,null);o.default=c.exports}}]);